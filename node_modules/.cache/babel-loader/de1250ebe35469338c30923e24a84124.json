{"ast":null,"code":"var _jsxFileName = \"/Users/karnvadaliya/weatherapp/src/components/weather.js\";\nimport React, { Component } from 'react';\nimport moment from 'moment';\nimport { render } from '@testing-library/react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\n\nclass weather extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = e => {\n      this.props.updateCity(e.target.value);\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      fetch(\"http://api.openweathermap.org/data/2.5/forecast?q=\" + this.props.city + \"&appid=57808ae0e0093dd410d6cf81f988f653&units=imperial\").then(function (response) {\n        if (response.ok) {\n          return response.json();\n        } else {\n          console.log(\"heelo\");\n        }\n      }).then(res => {\n        // console.log(res.list)\n        this.props.updateDays(res.list);\n      }).catch(error => {\n        this.props.updateDays([]);\n        this.props.updateCurrent({\n          temp: '-',\n          icon: '-',\n          wind: '-',\n          feels_like: '-'\n        });\n      });\n      fetch(\"http://api.openweathermap.org/data/2.5/weather?q=\" + this.props.city + \"&appid=57808ae0e0093dd410d6cf81f988f653&units=imperial\").then(function (response) {\n        if (response.ok) {\n          return response.json();\n        } else {\n          console.log(\"heelo\");\n        }\n      }).then(res => {\n        // console.log(res.main.temp)\n        this.props.updateCurrent({\n          temp: res.main.temp,\n          icon: res.weather[0].icon,\n          wind: res.wind.speed,\n          feels_like: res.main.feels_like\n        });\n      }).catch(error => {\n        this.props.updateDays([]);\n        this.props.updateCurrent({\n          temp: '-',\n          icon: '-',\n          wind: '-',\n          feels_like: '-'\n        });\n      });\n      console.log(this.props);\n    };\n  }\n\n  componentDidMount() {\n    console.log(this.props.city);\n    fetch(\"http://api.openweathermap.org/data/2.5/forecast?q=\" + this.props.city + \"&appid=57808ae0e0093dd410d6cf81f988f653&units=imperial\").then(function (response) {\n      return response.json();\n    }).then(res => {\n      console.log(res.list);\n      this.props.updateDays(res.list);\n    });\n    fetch(\"http://api.openweathermap.org/data/2.5/weather?q=\" + this.props.city + \"&appid=57808ae0e0093dd410d6cf81f988f653&units=imperial\").then(function (response) {\n      return response.json();\n    }).then(res => {\n      console.log(res);\n      this.props.updateCurrent({\n        temp: res.main.temp,\n        icon: res.weather[0].icon,\n        wind: res.wind.speed,\n        feels_like: res.main.feels_like\n      });\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    city: state.city,\n    current: state.current,\n    days: state.days\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    updateCity: city => {\n      dispatch({\n        type: 'UPDATE_CITY',\n        city: city\n      });\n    },\n    updateCurrent: current => {\n      dispatch({\n        type: 'UPDATE_CURRENT',\n        current: current\n      });\n    },\n    updateDays: days => {\n      dispatch({\n        type: 'UPDATE_DAYS',\n        days: days\n      });\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(weather);","map":{"version":3,"sources":["/Users/karnvadaliya/weatherapp/src/components/weather.js"],"names":["React","Component","moment","render","connect","Link","weather","constructor","props","handleChange","e","updateCity","target","value","handleSubmit","preventDefault","fetch","city","then","response","ok","json","console","log","res","updateDays","list","catch","error","updateCurrent","temp","icon","wind","feels_like","main","speed","componentDidMount","mapStateToProps","state","current","days","mapDispatchToProps","dispatch","type"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport moment from 'moment';\nimport { render } from '@testing-library/react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\n\n\nclass weather extends Component{\n    \n    constructor(props){\n        super(props)\n    }\n\n    componentDidMount(){\n        console.log(this.props.city);\n        fetch(\"http://api.openweathermap.org/data/2.5/forecast?q=\"+this.props.city+\"&appid=57808ae0e0093dd410d6cf81f988f653&units=imperial\")\n        .then(function(response){\n            return response.json()\n        })\n            .then(res=>{\n                console.log(res.list);\n                this.props.updateDays(res.list);\n            })\n\n        fetch(\"http://api.openweathermap.org/data/2.5/weather?q=\"+this.props.city+\"&appid=57808ae0e0093dd410d6cf81f988f653&units=imperial\")\n        .then(function(response){\n            return response.json()\n        })\n            .then(res=>{\n                console.log(res);\n                this.props.updateCurrent({temp: res.main.temp, icon:res.weather[0].icon, wind:res.wind.speed, feels_like:res.main.feels_like})\n            })\n    }\n\n    handleChange=(e)=>{\n        this.props.updateCity(e.target.value)\n    }\n\n    handleSubmit=(e)=>{\n        e.preventDefault()\n        fetch(\"http://api.openweathermap.org/data/2.5/forecast?q=\"+this.props.city+\"&appid=57808ae0e0093dd410d6cf81f988f653&units=imperial\")\n        .then(function(response){\n            if(response.ok)\n            {\n                return response.json()\n            }\n            else\n            {\n                console.log(\"heelo\");\n            }\n        })\n            .then(res=>{\n                // console.log(res.list)\n                this.props.updateDays(res.list)\n                \n            }).catch(error=>{\n                this.props.updateDays([])\n                this.props.updateCurrent({temp: '-', icon: '-', wind: '-', feels_like:'-'})\n            });\n\n        fetch(\"http://api.openweathermap.org/data/2.5/weather?q=\"+this.props.city+\"&appid=57808ae0e0093dd410d6cf81f988f653&units=imperial\")\n        .then(function(response){\n            if(response.ok)\n            {\n                return response.json()\n            }\n            else\n            {\n                console.log(\"heelo\");\n            }\n        })\n            .then(res=>{\n                // console.log(res.main.temp)\n                this.props.updateCurrent({temp: res.main.temp, \n                                          icon:res.weather[0].icon, \n                                          wind:res.wind.speed, \n                                          feels_like:res.main.feels_like})\n            }).catch(error=>{\n                this.props.updateDays([])\n                this.props.updateCurrent({temp: '-', icon: '-', wind: '-', feels_like:'-'})\n            })\n\n         console.log(this.props)\n    }\n\n    render(){\n        return(\n            <div>\n                 <form onSubmit={this.handleSubmit}>\n                    <div>\n                        <input type=\"text\" onChange={this.handleChange}/>\n                    </div>\n                 </form>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state)=>{\n    return{\n        city:state.city,\n        current:state.current,\n        days:state.days\n    }\n}\n\nconst mapDispatchToProps = (dispatch)=>{\n    return{\n        updateCity: (city)=>{dispatch({type:'UPDATE_CITY',city:city})},\n        updateCurrent: (current)=>{dispatch({type:'UPDATE_CURRENT',current:current})},\n        updateDays: (days)=>{dispatch({type:'UPDATE_DAYS',days:days})}\n    }\n}\n\n\nexport default connect(mapStateToProps,mapDispatchToProps)(weather)"]},"metadata":{},"sourceType":"module"}