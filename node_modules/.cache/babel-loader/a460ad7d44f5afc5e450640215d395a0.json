{"ast":null,"code":"var _jsxFileName = \"/Users/karnvadaliya/weatherapp/src/components/weather.js\";\nimport React, { Component } from 'react';\nimport moment from 'moment';\nimport { render } from '@testing-library/react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\n\nclass weather extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = e => {\n      this.props.updateCity(e.target.value);\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      fetch(\"http://api.openweathermap.org/data/2.5/forecast?q=\" + this.props.city + \"&appid=57808ae0e0093dd410d6cf81f988f653&units=imperial\").then(function (response) {\n        return response.json();\n      }).then(res => {\n        console.log(res.list);\n        this.props.updateDays(res.list);\n      }).catch(error => {\n        this.props.updateDays([]);\n        this.props.updateCurrent({\n          temp: '-',\n          icon: '-',\n          wind: '-',\n          feels_like: '-'\n        });\n      });\n      fetch(\"http://api.openweathermap.org/data/2.5/weather?q=\" + this.props.city + \"&appid=57808ae0e0093dd410d6cf81f988f653&units=imperial\").then(function (response) {\n        return response.json();\n      }).then(res => {\n        console.log(res.main.temp);\n        this.props.updateCurrent({\n          temp: res.main.temp,\n          icon: res.weather[0].icon,\n          wind: res.wind.speed,\n          feels_like: res.main.feels_like\n        });\n      }).catch(error => {\n        this.props.updateDays([]);\n        this.props.updateCurrent({\n          temp: '-',\n          icon: '-',\n          wind: '-',\n          feels_like: '-'\n        });\n      }); // console.log(this.props)\n    };\n  }\n\n  componentDidMount() {\n    console.log(this.props.city);\n    fetch(\"http://api.openweathermap.org/data/2.5/forecast?q=\" + this.props.city + \"&appid=57808ae0e0093dd410d6cf81f988f653&units=imperial\").then(function (response) {\n      return response.json();\n    }).then(res => {\n      console.log(res.list);\n      this.props.updateDays(res.list);\n    });\n    fetch(\"http://api.openweathermap.org/data/2.5/weather?q=\" + this.props.city + \"&appid=57808ae0e0093dd410d6cf81f988f653&units=imperial\").then(function (response) {\n      return response.json();\n    }).then(res => {\n      console.log(res);\n      this.props.updateCurrent({\n        temp: res.main.temp,\n        icon: res.weather[0].icon,\n        wind: res.wind.speed,\n        feels_like: res.main.feels_like\n      });\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    city: state.city,\n    current: state.current,\n    days: state.days\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    updateCity: city => {\n      dispatch({\n        type: 'UPDATE_CITY',\n        city: city\n      });\n    },\n    updateCurrent: current => {\n      dispatch({\n        type: 'UPDATE_CURRENT',\n        current: current\n      });\n    },\n    updateDays: days => {\n      dispatch({\n        type: 'UPDATE_DAYS',\n        days: days\n      });\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(weather);","map":{"version":3,"sources":["/Users/karnvadaliya/weatherapp/src/components/weather.js"],"names":["React","Component","moment","render","connect","Link","weather","constructor","props","handleChange","e","updateCity","target","value","handleSubmit","preventDefault","fetch","city","then","response","json","res","console","log","list","updateDays","catch","error","updateCurrent","temp","icon","wind","feels_like","main","speed","componentDidMount","mapStateToProps","state","current","days","mapDispatchToProps","dispatch","type"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport moment from 'moment';\nimport { render } from '@testing-library/react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\n\n\nclass weather extends Component{\n    \n    constructor(props){\n        super(props)\n    }\n\n    componentDidMount(){\n        console.log(this.props.city);\n        fetch(\"http://api.openweathermap.org/data/2.5/forecast?q=\"+this.props.city+\"&appid=57808ae0e0093dd410d6cf81f988f653&units=imperial\")\n        .then(function(response){\n            return response.json()\n        })\n            .then(res=>{\n                console.log(res.list);\n                this.props.updateDays(res.list);\n            })\n\n        fetch(\"http://api.openweathermap.org/data/2.5/weather?q=\"+this.props.city+\"&appid=57808ae0e0093dd410d6cf81f988f653&units=imperial\")\n        .then(function(response){\n            return response.json()\n        })\n            .then(res=>{\n                console.log(res);\n                this.props.updateCurrent({temp: res.main.temp, icon:res.weather[0].icon, wind:res.wind.speed, feels_like:res.main.feels_like})\n            })\n    }\n\n    handleChange=(e)=>{\n        this.props.updateCity(e.target.value)\n    }\n\n    handleSubmit=(e)=>{\n        e.preventDefault()\n        fetch(\"http://api.openweathermap.org/data/2.5/forecast?q=\"+this.props.city+\"&appid=57808ae0e0093dd410d6cf81f988f653&units=imperial\")\n        .then(function(response){\n            return response.json()\n        })\n            .then(res=>{\n                console.log(res.list)\n                this.props.updateDays(res.list)\n                \n            }).catch(error=>{\n                this.props.updateDays([])\n                this.props.updateCurrent({temp: '-', icon: '-', wind: '-', feels_like:'-'})\n            });\n\n        fetch(\"http://api.openweathermap.org/data/2.5/weather?q=\"+this.props.city+\"&appid=57808ae0e0093dd410d6cf81f988f653&units=imperial\")\n        .then(function(response){\n            return response.json()\n        })\n            .then(res=>{\n                console.log(res.main.temp)\n                this.props.updateCurrent({temp: res.main.temp, \n                                          icon:res.weather[0].icon, \n                                          wind:res.wind.speed, \n                                          feels_like:res.main.feels_like})\n            }).catch(error=>{\n                this.props.updateDays([])\n                this.props.updateCurrent({temp: '-', icon: '-', wind: '-', feels_like:'-'})\n            })\n\n        // console.log(this.props)\n    }\n\n    render(){\n        return(\n            <div>\n                 <form onSubmit={this.handleSubmit}>\n                    <div>\n                        <input type=\"text\" onChange={this.handleChange}/>\n                    </div>\n                 </form>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state)=>{\n    return{\n        city:state.city,\n        current:state.current,\n        days:state.days\n    }\n}\n\nconst mapDispatchToProps = (dispatch)=>{\n    return{\n        updateCity: (city)=>{dispatch({type:'UPDATE_CITY',city:city})},\n        updateCurrent: (current)=>{dispatch({type:'UPDATE_CURRENT',current:current})},\n        updateDays: (days)=>{dispatch({type:'UPDATE_DAYS',days:days})}\n    }\n}\n\n\nexport default connect(mapStateToProps,mapDispatchToProps)(weather)"]},"metadata":{},"sourceType":"module"}