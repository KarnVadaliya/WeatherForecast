{"ast":null,"code":"var _jsxFileName = \"/Users/karnvadaliya/weatherapp/src/components/weather.js\";\nimport React, { Component } from 'react';\nimport moment from 'moment';\nimport { connect } from 'react-redux';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\n\nclass weather extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      this.props.updateCity(e.target.city.value);\n      var unitValue = '';\n\n      if (this.props.unit === 'C') {\n        unitValue = \"metric\";\n      } else {\n        unitValue = \"imperial\";\n      }\n\n      axios.get(\"https://api.openweathermap.org/data/2.5/forecast?q=\" + e.target.city.value + \"&appid=d90a4edf4d91049321f5b1505b2d7d7e&units=\" + unitValue).then(res => {\n        this.props.updateDays(res.data.list);\n      }).catch(error => {\n        this.props.updateCity('Invalid City Name');\n        this.props.updateDays([]);\n        this.props.updateCurrent({\n          temp: '-',\n          icon: '-',\n          wind: '-',\n          feels_like: '-'\n        });\n      });\n      axios.get(\"https://api.openweathermap.org/data/2.5/weather?q=\" + e.target.city.value + \"&appid=d90a4edf4d91049321f5b1505b2d7d7e&units=\" + unitValue).then(res => {\n        this.props.updateCurrent({\n          temp: res.data.main.temp,\n          icon: res.data.weather[0].icon,\n          wind: res.data.wind.speed,\n          feels_like: res.data.main.feels_like\n        });\n      }).catch(error => {\n        this.props.updateCity('Invalid City Name');\n        this.props.updateDays([]);\n        this.props.updateCurrent({\n          temp: '-',\n          icon: '-',\n          wind: '-',\n          feels_like: '-'\n        });\n      });\n    };\n\n    this.tempChange = e => {\n      if (e.target.value === \"metric\") {\n        this.props.updateUnit('C');\n        this.props.updateWindUnit('meter/sec');\n      } else {\n        this.props.updateUnit('F');\n        this.props.updateWindUnit('miles/hour');\n      }\n\n      axios.get(\"https://api.openweathermap.org/data/2.5/forecast?q=\" + this.props.city + \"&appid=d90a4edf4d91049321f5b1505b2d7d7e&units=\" + e.target.value).then(res => {\n        this.props.updateDays(res.data.list);\n      }).catch(error => {\n        this.props.updateCity('Invalid City Name');\n        this.props.updateDays([]);\n        this.props.updateCurrent({\n          temp: '-',\n          icon: '-',\n          wind: '-',\n          feels_like: '-'\n        });\n      });\n      axios.get(\"https://api.openweathermap.org/data/2.5/weather?q=\" + this.props.city + \"&appid=d90a4edf4d91049321f5b1505b2d7d7e&units=\" + e.target.value).then(res => {\n        this.props.updateCurrent({\n          temp: res.data.main.temp,\n          icon: res.data.weather[0].icon,\n          wind: res.data.wind.speed,\n          feels_like: res.data.main.feels_like\n        });\n      }).catch(error => {\n        this.props.updateCity('Invalid City Name');\n        this.props.updateDays([]);\n        this.props.updateCurrent({\n          temp: '-',\n          icon: '-',\n          wind: '-',\n          feels_like: '-'\n        });\n      });\n    };\n  }\n\n  componentDidMount() {\n    var unitValue = '';\n\n    if (this.props.unit === 'C') {\n      unitValue = \"metric\";\n    } else {\n      unitValue = \"imperial\";\n    }\n\n    axios.get(\"https://api.openweathermap.org/data/2.5/forecast?q=\" + this.props.city + \"&appid=d90a4edf4d91049321f5b1505b2d7d7e&units=\" + unitValue).then(res => {\n      this.props.updateDays(res.data.list);\n    });\n    axios.get(\"https://api.openweathermap.org/data/2.5/weather?q=\" + this.props.city + \"&appid=d90a4edf4d91049321f5b1505b2d7d7e&units=\" + unitValue).then(res => {\n      this.props.updateCurrent({\n        temp: res.data.main.temp,\n        icon: res.data.weather[0].icon,\n        wind: res.data.wind.speed,\n        feels_like: res.data.main.feels_like\n      });\n    });\n  }\n\n  render() {\n    const dayList = [];\n    var j = 0;\n    var highestTemp = -1000;\n    var lowestTemp = 1000;\n\n    for (var i = 0; i < this.props.days.length; i++) {\n      if (this.props.days[i].main.temp > highestTemp) highestTemp = this.props.days[i].main.temp;\n      if (this.props.days[i].main.temp < lowestTemp) lowestTemp = this.props.days[i].main.temp;\n\n      if (i === 6 || i === 14 || i === 22 || i === 30 || i === 38) {\n        dayList[j] = {\n          dt_txt: this.props.days[i].dt_txt,\n          high: highestTemp,\n          low: lowestTemp,\n          icn: this.props.days[i].weather[0].icon\n        };\n        j++;\n        highestTemp = -1000;\n        lowestTemp = 1000;\n      }\n    }\n\n    const forecast = dayList.length ? dayList.map(day => {\n      return React.createElement(\"div\", {\n        className: \"day\",\n        key: day.dt_txt,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: {\n          pathname: `/${moment(day.dt_txt).format('dddd')}`,\n          state: {\n            date: day.dt_txt\n          }\n        },\n        style: {\n          textDecoration: 'none'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, moment(day.dt_txt).format('ddd')), React.createElement(\"img\", {\n        src: \"http://openweathermap.org/img/wn/\" + day.icn + \"@2x.png\",\n        alt: \"weather_icon\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, \"High: \\u2191 \", day.high, \"\\xB0\", this.props.unit), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, \"Low: \\u2193 \", day.low, \"\\xB0\", this.props.unit)));\n    }) : React.createElement(\"div\", {\n      style: {\n        display: \"none\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    });\n    return React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }), React.createElement(\"form\", {\n      className: \"row\",\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        textAlign: \"center\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"city\",\n      className: \"active\",\n      style: {\n        fontSize: \"25px\",\n        color: \"darkBlue\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, \"Enter City\")), React.createElement(\"input\", {\n      id: \"city\",\n      type: \"text\",\n      className: \"validate\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"weather\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"current\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, \"\\xA0\"), React.createElement(\"p\", {\n      className: \"city\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, this.props.city), React.createElement(\"p\", {\n      className: \"degree\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, \" \", React.createElement(\"button\", {\n      value: \"imperial\",\n      onClick: this.tempChange,\n      style: {\n        position: \"static\",\n        color: \"white\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, \"\\xB0 F\"), \" | \", React.createElement(\"button\", {\n      value: \"metric\",\n      onClick: this.tempChange,\n      style: {\n        position: \"static\",\n        color: \"white\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, \"\\xB0 C\")), React.createElement(\"img\", {\n      src: \"http://openweathermap.org/img/wn/\" + this.props.current.icon + \"@2x.png\",\n      alt: \"weather_icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      className: \"temp\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, this.props.current.temp, \"\\xB0 \", this.props.unit, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"feels\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, React.createElement(\"small\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, \"Feels like:\"), this.props.current.feels_like, \"\\xB0 \", this.props.unit)), React.createElement(\"p\", {\n      className: \"wind\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, React.createElement(\"small\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, \"Wind:\"), \" \", this.props.current.wind, \" \", this.props.windunit), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, \"\\xA0\")))), React.createElement(\"div\", {\n      className: \"future\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, forecast));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    city: state.city,\n    current: state.current,\n    days: state.days,\n    unit: state.unit,\n    windunit: state.windunit\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    updateCity: city => {\n      dispatch({\n        type: 'UPDATE_CITY',\n        city: city\n      });\n    },\n    updateCurrent: current => {\n      dispatch({\n        type: 'UPDATE_CURRENT',\n        current: current\n      });\n    },\n    updateDays: days => {\n      dispatch({\n        type: 'UPDATE_DAYS',\n        days: days\n      });\n    },\n    updateUnit: unit => {\n      dispatch({\n        type: 'UPDATE_UNIT',\n        unit: unit\n      });\n    },\n    updateWindUnit: windunit => {\n      dispatch({\n        type: 'UPDATE_WINDUNIT',\n        windunit: windunit\n      });\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(weather);","map":{"version":3,"sources":["/Users/karnvadaliya/weatherapp/src/components/weather.js"],"names":["React","Component","moment","connect","axios","Link","weather","handleSubmit","e","preventDefault","props","updateCity","target","city","value","unitValue","unit","get","then","res","updateDays","data","list","catch","error","updateCurrent","temp","icon","wind","feels_like","main","speed","tempChange","updateUnit","updateWindUnit","componentDidMount","render","dayList","j","highestTemp","lowestTemp","i","days","length","dt_txt","high","low","icn","forecast","map","day","pathname","format","state","date","textDecoration","display","textAlign","fontSize","color","handleChange","position","current","windunit","mapStateToProps","mapDispatchToProps","dispatch","type"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport moment from 'moment';\nimport { connect } from 'react-redux';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\n\n\nclass weather extends Component{\n    \n    componentDidMount(){\n        var unitValue=''\n        if(this.props.unit==='C')\n        {\n            unitValue=\"metric\"\n        }\n        else{\n            unitValue=\"imperial\"\n        }\n        axios.get(\"https://api.openweathermap.org/data/2.5/forecast?q=\"+this.props.city+\"&appid=d90a4edf4d91049321f5b1505b2d7d7e&units=\"+unitValue)\n            .then(res=>{\n                this.props.updateDays(res.data.list);\n            })\n\n        axios.get(\"https://api.openweathermap.org/data/2.5/weather?q=\"+this.props.city+\"&appid=d90a4edf4d91049321f5b1505b2d7d7e&units=\"+unitValue)\n            .then(res=>{\n                this.props.updateCurrent({temp: res.data.main.temp, icon:res.data.weather[0].icon, wind:res.data.wind.speed, feels_like:res.data.main.feels_like})\n            })\n    }\n\n    handleSubmit=(e)=>{\n        e.preventDefault()\n        this.props.updateCity(e.target.city.value)\n        var unitValue=''\n        if(this.props.unit==='C')\n        {\n            unitValue=\"metric\"\n        }\n        else{\n            unitValue=\"imperial\"\n\n        }\n        axios.get(\"https://api.openweathermap.org/data/2.5/forecast?q=\"+e.target.city.value+\"&appid=d90a4edf4d91049321f5b1505b2d7d7e&units=\"+unitValue)\n            .then(res=>{\n                this.props.updateDays(res.data.list)\n            }).catch(error=>{\n                this.props.updateCity('Invalid City Name')\n                this.props.updateDays([])\n                this.props.updateCurrent({temp: '-', icon: '-', wind: '-', feels_like:'-'})\n            });\n\n        axios.get(\"https://api.openweathermap.org/data/2.5/weather?q=\"+e.target.city.value+\"&appid=d90a4edf4d91049321f5b1505b2d7d7e&units=\"+unitValue)\n            .then(res=>{\n                this.props.updateCurrent({temp: res.data.main.temp, \n                                          icon:res.data.weather[0].icon, \n                                          wind:res.data.wind.speed, \n                                          feels_like:res.data.main.feels_like})\n            }).catch(error=>{\n                this.props.updateCity('Invalid City Name')\n                this.props.updateDays([])\n                this.props.updateCurrent({temp: '-', icon: '-', wind: '-', feels_like:'-'})\n            })\n    }\n\n\n    tempChange=(e)=>{\n        if(e.target.value===\"metric\")\n        {\n            this.props.updateUnit('C')\n            this.props.updateWindUnit('meter/sec')\n        }\n        else{\n            this.props.updateUnit('F')\n            this.props.updateWindUnit('miles/hour')\n        }\n        axios.get(\"https://api.openweathermap.org/data/2.5/forecast?q=\"+this.props.city+\"&appid=d90a4edf4d91049321f5b1505b2d7d7e&units=\"+e.target.value)\n            .then(res=>{\n                this.props.updateDays(res.data.list)\n            }).catch(error=>{\n                this.props.updateCity('Invalid City Name')\n                this.props.updateDays([])\n                this.props.updateCurrent({temp: '-', icon: '-', wind: '-', feels_like:'-'})\n            });\n\n        axios.get(\"https://api.openweathermap.org/data/2.5/weather?q=\"+this.props.city+\"&appid=d90a4edf4d91049321f5b1505b2d7d7e&units=\"+e.target.value)\n            .then(res=>{\n                this.props.updateCurrent({temp: res.data.main.temp, \n                                          icon:res.data.weather[0].icon, \n                                          wind:res.data.wind.speed, \n                                          feels_like:res.data.main.feels_like})\n            }).catch(error=>{\n                this.props.updateCity('Invalid City Name')\n                this.props.updateDays([])\n                this.props.updateCurrent({temp: '-', icon: '-', wind: '-', feels_like:'-'})\n            })\n    }\n\n    render(){\n        const dayList=[]\n        var j=0\n        var highestTemp=-1000\n        var lowestTemp=1000\n       \n        for(var i=0;i<this.props.days.length;i++)\n        {\n            if(this.props.days[i].main.temp>highestTemp)\n                highestTemp=this.props.days[i].main.temp\n            if(this.props.days[i].main.temp<lowestTemp)\n                lowestTemp=this.props.days[i].main.temp\n            if(i===6 || i===14 || i===22 || i===30 || i===38)\n            {\n                dayList[j]={dt_txt:this.props.days[i].dt_txt,high:highestTemp,low:lowestTemp,icn:this.props.days[i].weather[0].icon}\n                j++\n                highestTemp=-1000\n                lowestTemp=1000\n            }\n        }\n\n\n        const forecast = dayList.length?(dayList.map(day=>{return (\n            <div className=\"day\" key={day.dt_txt}>\n                <Link to={{ pathname: `/${moment(day.dt_txt).format('dddd')}`, state:{date:day.dt_txt}}} style={{ textDecoration: 'none' }}>\n                    <h3>{moment(day.dt_txt).format('ddd')}</h3>\n                    <img src={\"http://openweathermap.org/img/wn/\"+day.icn+\"@2x.png\"} alt=\"weather_icon\" />\n                    <p>High: &#8593; {day.high}&deg;{this.props.unit}</p>\n                    <p>Low: &#8595; {day.low}&deg;{this.props.unit}</p>\n                </Link>\n            </div>\n        )})):(<div style={{display:\"none\"}}>\n            </div>)\n\n           \n\n        return(\n           \n\n\n            <div className=\"container\">\n            <br/>\n                <form className=\"row\" onSubmit={this.handleSubmit}>\n                    <div className=\"row\">\n                        <div style={{textAlign:\"center\"}}>  \n                        <label htmlFor=\"city\" className=\"active\" style={{\n                            fontSize: \"25px\",\n                            color: \"darkBlue\"\n                        }}><strong>Enter City</strong></label>   \n                            <input id=\"city\" type=\"text\" className=\"validate\" onChange={this.handleChange}></input>\n                        </div>\n                    </div>\n                </form>\n                        <div className=\"weather\">\n                            <div className=\"current\">\n                                <div className=\"info\">\n                                    <p>&nbsp;</p>\n                                    <p className=\"city\">{this.props.city}</p>\n                                    <p className=\"degree\"> <button value=\"imperial\" onClick={this.tempChange} style={{position:\"static\", color:\"white\"}}>&deg; F</button> | <button value=\"metric\" onClick={this.tempChange} style={{position:\"static\", color:\"white\"}}>&deg; C</button></p> \n                                    <img src={\"http://openweathermap.org/img/wn/\"+this.props.current.icon+\"@2x.png\"} alt=\"weather_icon\" />\n                                    <p className=\"temp\">{this.props.current.temp}&deg; {this.props.unit}<br/>\n                                    <span className=\"feels\"><small>Feels like:</small>{this.props.current.feels_like}&deg; {this.props.unit}</span>\n                                    </p>\n                                    <p className=\"wind\"><small>Wind:</small> {this.props.current.wind} {this.props.windunit}</p>\n                                    <p>&nbsp;</p>\n                                </div>\n                                \n                            </div>\n                        </div>\n                <div className=\"future\">\n                                {forecast}\n                            </div>\n            </div>\n            \n\n\n        )\n    }\n}\n\nconst mapStateToProps = (state)=>{\n    return{\n        city:state.city,\n        current:state.current,\n        days:state.days,\n        unit:state.unit,\n        windunit:state.windunit\n    }\n}\n\nconst mapDispatchToProps = (dispatch)=>{\n    return{\n        updateCity: (city)=>{dispatch({type:'UPDATE_CITY',city:city})},\n        updateCurrent: (current)=>{dispatch({type:'UPDATE_CURRENT',current:current})},\n        updateDays: (days)=>{dispatch({type:'UPDATE_DAYS',days:days})},\n        updateUnit: (unit)=>{dispatch({type:'UPDATE_UNIT',unit:unit})},\n        updateWindUnit: (windunit)=>{dispatch({type:'UPDATE_WINDUNIT',windunit:windunit})}\n    }\n}\n\n\nexport default connect(mapStateToProps,mapDispatchToProps)(weather)"]},"metadata":{},"sourceType":"module"}